// Ajatix Advanced CSS Drop Down Menu
// Copyright (C) 2009-2013 Ajatix. All rights reserved.
// http://www.ajatix.com
(function(){var d=document,de=d.documentElement,menu,userAgent=navigator.userAgent.toLowerCase(),opera=/opera/.test(userAgent),hasTouch=("ontouchstart" in window||window.navigator.msMaxTouchPoints),iOS=/iPad|iPod|iPhone/.test(navigator.platform)&&"matchMedia" in window,dblClick=hasTouch&&!iOS;function onLoad(){var name="AJXCSSMenuNUASNJA";var divs=d.getElementsByTagName("div");for(var i=0;i<divs.length;i++){if(divs[i].className==name){menu=divs[i];var lis=menu.getElementsByTagName("li");for(var n=lis[0];n;n=n.nextSibling)if(n.tagName=="LI"){n.ajxtop=true;if(opera)n.style.width=n.offsetWidth-(n.className.indexOf("tlast")==-1? 50:0);}for(var j=0;j<lis.length;j++){var li=lis[j];var aa=li.getElementsByTagName("a");if(aa.length>0){li.className=li.className;li.style.position="static";var subs=li.getElementsByTagName("ul");if(subs.length>0)subs[0].style.visibility="hidden";li.shown=li.show=false;li.skipClick=false;if(dblClick&&subs.length>0){li.onmspointerdown=li.ontouchstart=function(e){e.stopPropagation();var skipClick=!this.skipClick;var lis=menu.getElementsByTagName("li");for(var i=0;i<lis.length;i++){lis[i].skipClick=false;}this.skipClick=skipClick;}}li.onmouseover=function(){clearTimeout(menu.timer);if(this.className.indexOf("ajxover")==-1)this.className+=" ajxover";this.show=true;menu.timer=setTimeout(update,40);};li.onmouseout=function(){this.skipClick=false;clearTimeout(menu.timer);if(!this.shown)this.className=this.className.replace(new RegExp(" ?ajxover\\b"), "");this.show=false;menu.timer=setTimeout(update,400);};li.onclick=function(e){if(this.skipClick){e.stopPropagation();return false;}var lis=menu.getElementsByTagName("li");for(var i=0;i<lis.length;i++){lis[i].className=lis[i].className.replace(new RegExp(" ?ajxover\\b"), "");}}}}}}}function update(){var lis=menu.getElementsByTagName("li");for(var i=lis.length-1;i>=0;i--){var li=lis[i];if(li.show){if(!li.shown){var subs=li.getElementsByTagName("ul");if(subs.length>0){var sub=subs[0];li.style.position="relative";sub.style.clip="rect(0,0,0,0)";sub.style.visibility="visible";if(typeof(sub.oleft)=="undefined")sub.oleft=parseInt(sub.currentStyle? sub.currentStyle["left"]:window.getComputedStyle(sub, "")["left"]);sub.style.left=sub.oleft+"px";var rec=sub.getBoundingClientRect();var overflow=rec.right-de.clientWidth;if(overflow>0){var aleft=li.getBoundingClientRect().width-sub.oleft-rec.width;var aoverflow=-(li.getBoundingClientRect().left+aleft);if(overflow>rec.width/2&&overflow>aoverflow){sub.style.left=aleft+(aoverflow>0?aoverflow:0)+"px";}else{sub.style.left=sub.offsetLeft-overflow+"px";}}roll(sub,li.ajxtop);li.shown=true;}}}else{var subs=li.getElementsByTagName("ul");if(subs.length>0){subs[0].style.visibility="hidden";li.style.position="static";li.shown=false;if(li.className.indexOf("ajxover")!=-1)li.className=li.className.replace(new RegExp(" ?ajxover\\b"), "");}}}}function roll(o,d){var h=o.offsetHeight;var w=o.offsetWidth;var c=d? h:w;o.tstart=new Date;if(!o.timer)o.timer=setInterval(function(){var s=(new Date-o.tstart)/200;if(s<1){var v=c*((-Math.cos(s*Math.PI)/2)+0.5);o.style.clip="rect(0,"+(d?w:v)+"px,"+(d?v:h)+"px,0)";}else{clearInterval(o.timer);o.timer=undefined;try{o.style.clip="inherit";}catch(E){o.style.clip="rect(auto,auto,auto,auto)";}}}, 13);}function addOnReady(f,fu){var isReady=false;function ready(){if(!isReady){isReady=true;f();};}if(d.addEventListener){d.addEventListener('DOMContentLoaded',ready,false);window.addEventListener("load",ready,false);window.addEventListener("unload",fu,false);}if(window.attachEvent)window.attachEvent("onload",ready);if(de.doScroll&&window==top){(function(){if(!isReady){try{de.doScroll("left");}catch(E){setTimeout(arguments.callee,0);return;}ready();}})()}}addOnReady(onLoad, onLoad);})();